<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{CUSTOMER_NAME}} - GHS Safety Binder</title>
    <meta name="description" content="Professional chemical safety documentation portal for {{CUSTOMER_NAME}}">
    <meta name="keywords" content="GHS, safety data sheet, SDS, chemical safety, OSHA compliance">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    
    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="{{CUSTOMER_NAME}} - GHS Safety Binder">
    <meta property="og:description" content="Professional chemical safety documentation portal">
    <meta property="og:type" content="website">
    
    <style>
        :root {
            --primary-color: #3498db;
            --danger-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --dark-color: #2c3e50;
            --light-bg: #f5f5f5;
            --white: #ffffff;
            --shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
            background-color: var(--light-bg);
            color: #333;
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--dark-color), var(--primary-color));
            color: var(--white);
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
        }

        .customer-logo {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            max-height: 60px;
            max-width: 150px;
        }

        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .customer-name {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            margin-bottom: 5px;
            font-weight: 600;
        }

        .header .subtitle {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            opacity: 0.9;
        }

        /* Main Controls */
        .main-controls {
            background: var(--white);
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 5px;
            background: var(--primary-color);
            color: var(--white);
            text-decoration: none;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            user-select: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-danger {
            background: var(--danger-color);
        }

        .btn-danger:hover {
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .btn-success {
            background: var(--success-color);
        }

        .btn-success:hover {
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .btn-warning {
            background: var(--warning-color);
        }

        .btn-warning:hover {
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        /* Statistics Dashboard */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            background: var(--white);
            margin: 20px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
            font-weight: 500;
        }

        /* Container Layout */
        .container {
            display: flex;
            margin: 20px;
            gap: 20px;
            min-height: 600px;
        }

        /* Sidebar */
        .sidebar {
            width: 320px;
            background: var(--white);
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        .search-box {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .product-list {
            max-height: 500px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }

        .product-list::-webkit-scrollbar {
            width: 6px;
        }

        .product-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .product-list::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        .product-item {
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary-color);
            position: relative;
        }

        .product-item:hover {
            background: #e3f2fd;
            transform: translateX(5px);
        }

        .product-item.active {
            background: var(--primary-color);
            color: var(--white);
            transform: translateX(5px);
        }

        .product-name {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 4px;
        }

        .product-status {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            background: var(--white);
            border-radius: 10px;
            padding: 25px;
            box-shadow: var(--shadow);
        }

        .document-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
            flex-wrap: wrap;
            gap: 15px;
        }

        .document-title {
            font-size: 1.8rem;
            color: var(--dark-color);
            font-weight: 600;
        }

        .document-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* Content Area */
        .content-area {
            width: 100%;
            min-height: 600px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: #fafafa;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .welcome-message {
            text-align: center;
            color: #666;
            line-height: 1.8;
        }

        .welcome-message h2 {
            color: var(--dark-color);
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .welcome-message ul {
            text-align: left;
            display: inline-block;
            margin: 20px 0;
        }

        .welcome-message li {
            margin: 8px 0;
            padding-left: 5px;
        }

        .document-info {
            text-align: center;
            color: #333;
            line-height: 1.8;
        }

        .document-info h3 {
            color: var(--dark-color);
            margin-bottom: 20px;
            font-size: 2rem;
            font-weight: 600;
        }

        .doc-type {
            background: var(--primary-color);
            color: var(--white);
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
            margin: 10px 0;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .doc-type.sds {
            background: var(--danger-color);
        }

        /* Hazard Information */
        .hazard-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--warning-color);
        }

        .hazard-info h4 {
            color: #856404;
            margin-bottom: 10px;
            font-weight: 600;
        }

        /* Quick Access Grid */
        .quick-access {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .quick-access-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .quick-access-item:hover {
            border-color: var(--primary-color);
            background: #e3f2fd;
            transform: translateY(-5px);
        }

        /* Emergency Access Banner */
        .emergency-banner {
            background: linear-gradient(45deg, var(--danger-color), #c0392b);
            color: var(--white);
            padding: 15px;
            text-align: center;
            margin: 20px;
            border-radius: 10px;
            font-weight: 600;
        }

        /* Footer */
        .footer {
            background: var(--dark-color);
            color: var(--white);
            text-align: center;
            padding: 40px 20px;
            margin-top: 40px;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .footer p {
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .provider-credit {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .liability-notice {
            background: #fff3cd;
            border: 2px solid var(--warning-color);
            border-radius: 10px;
            padding: 20px;
            margin: 20px;
            text-align: center;
        }

        .liability-notice h4 {
            color: #856404;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .liability-notice p {
            color: #856404;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
                margin: 10px;
            }
            
            .sidebar {
                width: 100%;
                position: static;
            }
            
            .customer-logo {
                position: static;
                transform: none;
                margin-bottom: 15px;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 15px 10px;
            }
            
            .main-controls, .stats {
                margin: 10px;
                padding: 15px;
            }
            
            .document-header {
                flex-direction: column;
                align-items: stretch;
                text-align: center;
            }
            
            .document-controls {
                justify-content: center;
            }
            
            .quick-access {
                grid-template-columns: 1fr;
            }
        }

        /* Print Styles */
        @media print {
            .sidebar, .main-controls, .emergency-banner {
                display: none;
            }
            
            .container {
                flex-direction: column;
            }
            
            .main-content {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        {{#CUSTOMER_LOGO}}
        <img src="{{CUSTOMER_LOGO}}" alt="{{CUSTOMER_NAME}} Logo" class="customer-logo">
        {{/CUSTOMER_LOGO}}
        <h1>🧪 GHS Safety Data Binder</h1>
        <div class="customer-name">{{CUSTOMER_NAME}}</div>
        <div class="subtitle">Professional Chemical Safety Documentation Portal</div>
        <div style="font-size: 0.9rem; margin-top: 10px; opacity: 0.8;">
            Last Updated: {{LAST_UPDATED}} | Total Products: {{TOTAL_PRODUCTS}}
        </div>
    </header>

    <!-- Emergency Access Banner -->
    <div class="emergency-banner" id="emergencyBanner">
        🚨 EMERGENCY ACCESS: This safety information is available 24/7 without restrictions for emergency response and compliance purposes
    </div>

    <!-- Main Controls -->
    <div class="main-controls">
        {{#COMPLETE_BINDER_URL}}
        <a href="{{COMPLETE_BINDER_URL}}" class="btn btn-success" target="_blank" rel="noopener noreferrer">
            📥 Download Complete Binder (PDF)
        </a>
        <a href="{{COMPLETE_BINDER_URL}}" class="btn btn-warning" target="_blank" rel="noopener noreferrer">
            👁️ View Complete Binder
        </a>
        {{/COMPLETE_BINDER_URL}}
        <button onclick="window.print()" class="btn">
            🖨️ Print This Page
        </button>
        <button onclick="toggleFullscreen()" class="btn">
            🔍 Toggle Fullscreen
        </button>
    </div>

    <!-- Statistics Dashboard -->
    <div class="stats">
        <div class="stat-item">
            <span class="stat-number">{{TOTAL_PRODUCTS}}</span>
            <div class="stat-label">Total Products</div>
        </div>
        <div class="stat-item">
            <span class="stat-number">{{TOTAL_DOCUMENTS}}</span>
            <div class="stat-label">Total Documents</div>
        </div>
        <div class="stat-item">
            <span class="stat-number">100%</span>
            <div class="stat-label">GHS Compliant</div>
        </div>
        <div class="stat-item">
            <span class="stat-number">24/7</span>
            <div class="stat-label">Emergency Access</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <input type="text" class="search-box" placeholder="🔍 Search products..." onkeyup="filterProducts()" id="searchBox">
            
            <h3 style="margin-bottom: 15px; color: var(--dark-color); font-weight: 600;">Chemical Products</h3>
            <div class="product-list" id="productList">
                <!-- Products will be populated by JavaScript -->
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="document-header">
                <h2 class="document-title" id="documentTitle">Welcome to Your GHS Safety Binder</h2>
                <div class="document-controls" id="documentControls" style="display: none;">
                    <button onclick="viewLiterature()" class="btn">👁️ View Literature</button>
                    <button onclick="downloadLiterature()" class="btn">📥 Download Literature</button>
                    <button onclick="viewSDS()" class="btn btn-danger">👁️ View SDS</button>
                    <button onclick="downloadSDS()" class="btn btn-danger">📥 Download SDS</button>
                </div>
            </div>

            <div class="content-area" id="contentArea">
                <div class="welcome-message">
                    <h2>Welcome to Your GHS Safety Documentation Portal</h2>
                    <p>Select a chemical product from the left sidebar to access its documentation.</p>
                    <p>Each product includes both literature and Safety Data Sheet (SDS) for complete compliance.</p>
                    
                    <ul>
                        <li>✅ View all documents online</li>
                        <li>✅ Download individual documents or complete binder</li>
                        <li>✅ Print individual documents or complete binder</li>
                        <li>✅ Mobile-friendly responsive design</li>
                        <li>✅ Search and filter products</li>
                        <li>✅ Always up-to-date safety information</li>
                        <li>✅ 24/7 emergency access - no barriers</li>
                    </ul>
                    
                    <p><em>📱 Documents open in new tabs for optimal viewing experience</em></p>
                    <p><strong>🚨 Emergency Access:</strong> All safety documents are immediately accessible without any login requirements for emergency response purposes.</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Customer Responsibility Notice -->
    <div class="liability-notice">
        <h4>📋 Document Responsibility Notice</h4>
        <p>
            <strong>{{CUSTOMER_NAME}}</strong> is solely responsible for ensuring the accuracy, completeness, and currency of all chemical safety information displayed on this site. 
            This includes verifying that all Safety Data Sheets (SDS) and product literature are current and applicable to the chemicals in use.
        </p>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <h3>Safety First - Compliance Always</h3>
            <p>This GHS Safety Binder is maintained in accordance with OSHA Hazard Communication Standard (29 CFR 1910.1200)</p>
            <p>For questions about chemical safety, contact your chemical supplier immediately.</p>
            
            <div style="margin: 20px 0;">
                {{#CUSTOMER_CONTACT}}
                <p><strong>Customer Contact:</strong> {{CUSTOMER_CONTACT}}</p>
                {{/CUSTOMER_CONTACT}}
                {{#CUSTOMER_EMERGENCY}}
                <p><strong>Emergency Contact:</strong> {{CUSTOMER_EMERGENCY}}</p>
                {{/CUSTOMER_EMERGENCY}}
            </div>
            
            <div class="provider-credit">
                <p><em>Professional GHS Binder System provided by <strong>Rasco, Inc.</strong></em></p>
                <p>System generated on {{GENERATION_DATE}}</p>
                <p style="font-size: 0.8rem; margin-top: 10px;">
                    Rasco, Inc. assumes no responsibility for the accuracy, completeness, or currency of the chemical safety information provided. 
                    The customer is solely responsible for maintaining accurate and up-to-date safety documentation.
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Product database - populated by automation script
        const products = {{{PRODUCTS_JSON}}};
        const customerInfo = {{{CUSTOMER_INFO_JSON}}};
        
        let currentProduct = null;

        // Initialize the application
        function init() {
            renderProductList();
            updatePageTitle();
            setupKeyboardShortcuts();
            trackPageView();
        }

        // Update page title with customer name
        function updatePageTitle() {
            document.title = `${customerInfo.name} - GHS Safety Binder`;
        }

        // Render the product list in the sidebar
        function renderProductList() {
            const productList = document.getElementById('productList');
            productList.innerHTML = '';

            if (products.length === 0) {
                productList.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">No products available</div>';
                return;
            }

            products.forEach((product, index) => {
                const item = document.createElement('div');
                item.className = 'product-item';
                item.setAttribute('data-product-name', product.name.toLowerCase());
                item.innerHTML = `
                    <div class="product-name">${product.name}</div>
                    <div class="product-status">📋 Literature • ⚠️ SDS Available</div>
                `;
                item.onclick = () => selectProduct(product, index);
                productList.appendChild(item);
            });
        }

        // Filter products based on search
        function filterProducts() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const items = document.querySelectorAll('.product-item');
            
            items.forEach(item => {
                const productName = item.getAttribute('data-product-name');
                const isVisible = productName.includes(searchTerm);
                item.style.display = isVisible ? 'block' : 'none';
            });
        }

        // Select a product and show its information
        function selectProduct(product, index) {
            currentProduct = product;
            
            // Update active state
            document.querySelectorAll('.product-item').forEach(item => item.classList.remove('active'));
            event.target.closest('.product-item').classList.add('active');
            
            // Show document controls
            document.getElementById('documentControls').style.display = 'flex';
            
            // Update title
            document.getElementById('documentTitle').textContent = product.name;
            
            // Show product information
            showProductInfo();
            
            // Track product selection
            trackProductView(product.name);
        }

        // Show product information
        function showProductInfo() {
            if (!currentProduct) return;
            
            const contentArea = document.getElementById('contentArea');
            contentArea.innerHTML = `
                <div class="document-info">
                    <h3>${currentProduct.name}</h3>
                    <p style="font-size: 1.2em; margin-bottom: 20px;">${currentProduct.description || 'Professional chemical safety documentation'}</p>
                    
                    ${currentProduct.hazards ? `
                    <div class="hazard-info">
                        <h4>⚠️ Key Safety Information</h4>
                        <p>${currentProduct.hazards}</p>
                    </div>
                    ` : ''}
                    
                    <div class="quick-access">
                        <div class="quick-access-item">
                            <div class="doc-type">📋 LITERATURE</div>
                            <p>Product information, usage instructions, and specifications</p>
                            <div style="margin-top: 15px;">
                                <a href="${currentProduct.literature}" target="_blank" rel="noopener noreferrer" class="btn" onclick="trackDocumentView('literature', '${currentProduct.name}')">👁️ View</a>
                                <a href="${currentProduct.literature}" target="_blank" rel="noopener noreferrer" class="btn" onclick="trackDocumentDownload('literature', '${currentProduct.name}')">📥 Download</a>
                            </div>
                        </div>
                        
                        <div class="quick-access-item">
                            <div class="doc-type sds">⚠️ SAFETY DATA SHEET</div>
                            <p>Complete hazard information, first aid, and handling procedures</p>
                            <div style="margin-top: 15px;">
                                <a href="${currentProduct.sds}" target="_blank" rel="noopener noreferrer" class="btn btn-danger" onclick="trackDocumentView('sds', '${currentProduct.name}')">👁️ View</a>
                                <a href="${currentProduct.sds}" target="_blank" rel="noopener noreferrer" class="btn btn-danger" onclick="trackDocumentDownload('sds', '${currentProduct.name}')">📥 Download</a>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <p><em>📱 All documents open in new tabs for optimal viewing and printing</em></p>
                        <p><strong>🚨 Emergency Access:</strong> No login required - immediate access for safety personnel</p>
                    </div>
                </div>
            `;
        }

        // Document action functions
        function viewLiterature() {
            if (!currentProduct) return;
            window.open(currentProduct.literature.url, '_blank', 'noopener,noreferrer');
            trackDocumentView('literature', currentProduct.name);
        }

        function downloadLiterature() {
            if (!currentProduct) return;
            window.open(currentProduct.literature.url, '_blank', 'noopener,noreferrer');
            trackDocumentDownload('literature', currentProduct.name);
        }

        function viewSDS() {
            if (!currentProduct) return;
            window.open(currentProduct.sds.url, '_blank', 'noopener,noreferrer');
            trackDocumentView('sds', currentProduct.name);
        }

        function downloadSDS() {
            if (!currentProduct) return;
            window.open(currentProduct.sds.url, '_blank', 'noopener,noreferrer');
            trackDocumentDownload('sds', currentProduct.name);
        }

        // Utility functions
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log('Fullscreen not supported:', err);
                });
            } else {
                document.exitFullscreen();
            }
        }

        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key) {
                        case 'f':
                            e.preventDefault();
                            document.getElementById('searchBox').focus();
                            break;
                        case 'p':
                            // Allow default print behavior
                            break;
                    }
                }
            });
        }

        // Analytics functions (for future implementation)
        function trackPageView() {
            // Placeholder for analytics
            console.log('Page view tracked for:', customerInfo.name);
        }

        function trackProductView(productName) {
            // Placeholder for analytics
            console.log('Product viewed:', productName);
        }

        function trackDocumentView(docType, productName) {
            // Placeholder for analytics
            console.log('Document viewed:', docType, productName);
        }

        function trackDocumentDownload(docType, productName) {
            // Placeholder for analytics
            console.log('Document downloaded:', docType, productName);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);

        // Handle visibility changes for mobile
        document.addEventListener('visibilitychange', function() {
            if (document.visibilityState === 'visible') {
                // Refresh data if needed when page becomes visible
            }
        });
    </script>
</body>
</html>